
<div class="home-button-row">
	<div class="home-flex-container mat-button-base">
		<a mat-flat-button color="accent" href="https://docs.google.com/forms/d/e/1FAIpQLScLDkpL6MFfeY2r6xZdyTrB94ZXT5P4XJN6c2tRcdwMDwtuMg/viewform" target="_blank">Add Report</a>
		<a mat-flat-button color="primary" href="https://forms.aweber.com/form/07/131622307.htm" target="_blank">Get Notified</a>
		<a mat-flat-button color="primary" routerLink="/howto">How to Hunt</a>
	</div>
</div>
<mat-divider></mat-divider>
<div class="home-title-flex-container mat-display-1">Latest Hunting Reports</div>

<div *ngIf="locations$ | async as locations; else loading">
<div *ngFor="let location of locations">
	<mat-accordion>
		<!-- #docregion basic-panel -->
		<!-- #docregion hide-toggle -->
		<mat-expansion-panel (opened)="panelOpenState = true"
                       		 (closed)="panelOpenState = false">
		  <!-- #enddocregion hide-toggle -->
		  <mat-expansion-panel-header>
			<mat-panel-title>
				{{ location.lastUpdated || 'No Updates' }}
			</mat-panel-title>
			<mat-panel-description>
				{{ location.address.city + ',' || ''}} {{ location.name || ''}} 
			</mat-panel-description>
		  </mat-expansion-panel-header>
			<mat-list>
				<mat-list-item>
					<a href="tel:{{location.phone}}" matLine>
						<button mat-icon-button aria-label="Call">
						  <mat-icon>call</mat-icon>
						</button>
						<span> {{ location.phone || '-' }} </span>
					</a>
				</mat-list-item>
				<mat-list-item>
					<mat-icon matListIcon>place</mat-icon>
					<a href="https://www.google.com/maps/place/{{location.address.streetNumber + '+' + location.address.street + '+' + location.address.city + 'CA'}}" target="_blank" matLine> 
					<p matLine> {{ location.address.streetNumber || '' }} {{ location.address.street || '' }}<br />
						<span> {{ location.address.city + ', CA' || ''}} {{ location.address.zip || ''}} </span>
					</p>
					</a>
				</mat-list-item>
			</mat-list>
			<p>
			Location Type: {{ location.locationType || '-'}} 
			</p>
			<p>
			Hunting Reports:<br />
			<span *ngFor="let note of location.notes">{{ note }}<br /></span>
			<span *ngIf="location.notes.length == 0" class="no-skills">no notes</span>
			</p>
			
		</mat-expansion-panel>
	  </mat-accordion>
</div>
</div>

<ng-template #loading>
	<div class=" loading">
	  <div class="lds-ripple">
		<div></div>
		<div></div>
	  </div>
	</div>
  </ng-template>




<!-- 
Copyright Google LLC. All Rights Reserved.
Use of this source code is governed by an MIT-style license that
can be found in the LICENSE file at https://angular.io/license
-->